<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CPU</title><link rel="stylesheet" href="/retro-docs-site/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js" defer> </script><script src="/retro-docs-site/rgd.js" defer></script></head><body class="theme-light"><menu><div class="directory"><img class="menuimage" src="/retro-docs-site/assets/retrologo.png"/><div class="subcontents"><p><a href="/retro-docs-site\README.html">README</a></p><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>docs</span></div><div class="subcontents"><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>github</span></div><div class="subcontents"><p><a href="/retro-docs-site\docs\github\Contributing.html">Contributing</a></p></div></div><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>modules</span></div><div class="subcontents"><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>input</span></div><div class="subcontents"><p><a href="/retro-docs-site\docs\modules\input\DPad.html">DPad</a></p><p><a href="/retro-docs-site\docs\modules\input\Keypad.html">Keypad</a></p><p><a href="/retro-docs-site\docs\modules\input\Knob.html">Knob</a></p><p><a href="/retro-docs-site\docs\modules\input\LedButton.html">LedButton</a></p><p><a href="/retro-docs-site\docs\modules\input\ScreenButton.html">ScreenButton</a></p><p><a href="/retro-docs-site\docs\modules\input\Slider.html">Slider</a></p><p><a href="/retro-docs-site\docs\modules\input\Stick.html">Stick</a></p><p><a href="/retro-docs-site\docs\modules\input\Switch.html">Switch</a></p><p><a href="/retro-docs-site\docs\modules\input\Webcam.html">Webcam</a></p></div></div><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>misc</span></div><div class="subcontents"><p><a href="/retro-docs-site\docs\modules\misc\AudioChip.html">AudioChip</a></p><p><a class="current" href="/retro-docs-site\docs\modules\misc\CPU.html">CPU</a></p><p><a href="/retro-docs-site\docs\modules\misc\Decoration.html">Decoration</a></p><p><a href="/retro-docs-site\docs\modules\misc\GamepadChip.html">GamepadChip</a></p><p><a href="/retro-docs-site\docs\modules\misc\KeyboardChip.html">KeyboardChip</a></p><p><a href="/retro-docs-site\docs\modules\misc\MagneticConnector.html">MagneticConnector</a></p><p><a href="/retro-docs-site\docs\modules\misc\PowerButton.html">PowerButton</a></p><p><a href="/retro-docs-site\docs\modules\misc\RealityChip.html">RealityChip</a></p><p><a href="/retro-docs-site\docs\modules\misc\VideoChip.html">VideoChip</a></p></div></div><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>output</span></div><div class="subcontents"><p><a href="/retro-docs-site\docs\modules\output\Gauge.html">Gauge</a></p><p><a href="/retro-docs-site\docs\modules\output\Lcd.html">Lcd</a></p><p><a href="/retro-docs-site\docs\modules\output\Led.html">Led</a></p><p><a href="/retro-docs-site\docs\modules\output\LedMatrix.html">LedMatrix</a></p><p><a href="/retro-docs-site\docs\modules\output\LedStrip.html">LedStrip</a></p><p><a href="/retro-docs-site\docs\modules\output\Screen.html">Screen</a></p><p><a href="/retro-docs-site\docs\modules\output\SegmentDisplay.html">SegmentDisplay</a></p><p><a href="/retro-docs-site\docs\modules\output\Speaker.html">Speaker</a></p></div></div></div></div></div></div><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>examples</span></div><div class="subcontents"><p><a href="/retro-docs-site\examples\getting-started.html">getting-started</a></p></div></div></div></div><div class="sync-info"><p>Last Synced:</p><p style="font-weight: 500">28/10/2022 8:52am PST</p><p style="font-size: 0.8em">Does not automatically sync.</p></div></menu><div class="layout-divider"></div><article><h1>CPU</h1><hr><img src="https://docs.retrogadgets.game/api/modules/CPU.png" width="200" align="right">

<p>The CPU is responsible for most gadget interactivity and runs Lua asset files. CPUs (currently) do not need to be connected to or on the board of any part of the gadget they interact with. They can currently load a single Lua asset.</p>
<h2>Properties</h2><h3>Source - <code>Code</code> <strong>[Read only]</strong></h3><p>Source defines what &quot;file&quot; the CPU will run, and is typically set with the multitool inspector. You can set it to any Lua asset. Upon creating a CPU, a code file is created automatically titled CPU0.lua, and it is automatically connected to said CPU.</p>
<h3>Time - <code>number</code> <strong>[Read only]</strong></h3><p>The time since the gadget is turned on, expressed in seconds.</p>
<pre><code class="language-lua"><span class="hljs-keyword">local</span> cpu:CPU = gdt.CPU0
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>
    <span class="hljs-built_in">log</span>(<span class="hljs-built_in">tostring</span>(cpu.Time)) <span class="hljs-comment">--Example: 0.521000027656552</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3>DeltaTime - <code>number</code> <strong>[Read only]</strong></h3><p>The time elapsed since the last tick, expressed in seconds. Essentially, this is the difference (or <em>delta</em>) between the last <code>update()</code> call. This is useful to update animations and timers without relying on remembering <code>Time</code>, as well as interpolate values smoothly (see &quot;Creating consistent interpolation&quot;).</p>
<pre><code class="language-lua"><span class="hljs-keyword">local</span> cpu:CPU = gdt.CPU0
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>
    <span class="hljs-built_in">log</span>(<span class="hljs-built_in">tostring</span>(cpu.DeltaTime)) <span class="hljs-comment">--At 60/60 tps, this is roughly 0.01666 repeating.</span>
    <span class="hljs-comment">--An example real value is: 0.01600000075995922</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h2>Remarks</h2><h3>Creating consistent interpolation</h3><!-- not sure if retro gadgets handles deltatime already? remove this section if that's the case -->

<p>Making sure the movement of something stays consistent is incredibly important when doing anything relating to such. If you are moving a square at 60 FPS, you want to move it the same distance in 5 FPS as well. However, in most general cases, this does not happen. If you transition from a value of 0 to 100, incrementing by 1 each frame:</p>
<pre><code class="language-lua"><span class="hljs-keyword">local</span> myNumber:number = <span class="hljs-number">0</span>

<span class="hljs-comment">-- update() is called each frame</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>
  myNumber = myNumber + <span class="hljs-number">1</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>This would work well in most cases, as long as the framerate is consistent. However, in the case that it isn&#39;t, the time it would take for <code>myNumber</code> to reach 100 would vary between different framerates. This can present issues in scenarios where you need the incrementation of a variable to be consistent (such as the movement of a character), so it&#39;s important to find a way to sync it to the FPS. This practice is applied in most circumstances when it comes to data interpolation that must be consistent, and only involves a few extra characters:</p>
<pre><code class="language-lua"><span class="hljs-keyword">local</span> myNumber:number = <span class="hljs-number">0</span>
<span class="hljs-keyword">local</span> cpu:CPU = gdt.CPU0 <span class="hljs-comment">-- Replace this with your CPU</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>
    myNumber = myNumber + (<span class="hljs-number">1</span> * cpu.DeltaTime)
<span class="hljs-keyword">end</span>
</code></pre>
<p>Because we multiplied the incrementation value by the DeltaTime, no matter the framerate, in the long run, it will still take the same amount of time for <code>myNumber</code> to reach 100.</p>
</article></body></html>