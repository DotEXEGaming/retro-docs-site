<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>VideoChip</title><link rel="stylesheet" href="/retro-docs-site/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js" defer> </script><script src="/retro-docs-site/rgd.js" defer></script></head><body class="theme-light"><menu><div class="directory"><img class="menuimage" src="/retro-docs-site/assets/retrologo.png"/><div class="subcontents"><p><a href="/retro-docs-site\README.html">README</a></p><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>docs</span></div><div class="subcontents"><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>github</span></div><div class="subcontents"><p><a href="/retro-docs-site\docs\github\Contributing.html">Contributing</a></p></div></div><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>modules</span></div><div class="subcontents"><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>input</span></div><div class="subcontents"><p><a href="/retro-docs-site\docs\modules\input\DPad.html">DPad</a></p><p><a href="/retro-docs-site\docs\modules\input\Keypad.html">Keypad</a></p><p><a href="/retro-docs-site\docs\modules\input\Knob.html">Knob</a></p><p><a href="/retro-docs-site\docs\modules\input\LedButton.html">LedButton</a></p><p><a href="/retro-docs-site\docs\modules\input\ScreenButton.html">ScreenButton</a></p><p><a href="/retro-docs-site\docs\modules\input\Slider.html">Slider</a></p><p><a href="/retro-docs-site\docs\modules\input\Stick.html">Stick</a></p><p><a href="/retro-docs-site\docs\modules\input\Switch.html">Switch</a></p><p><a href="/retro-docs-site\docs\modules\input\Webcam.html">Webcam</a></p></div></div><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>misc</span></div><div class="subcontents"><p><a href="/retro-docs-site\docs\modules\misc\AudioChip.html">AudioChip</a></p><p><a href="/retro-docs-site\docs\modules\misc\CPU.html">CPU</a></p><p><a href="/retro-docs-site\docs\modules\misc\Decoration.html">Decoration</a></p><p><a href="/retro-docs-site\docs\modules\misc\GamepadChip.html">GamepadChip</a></p><p><a href="/retro-docs-site\docs\modules\misc\KeyboardChip.html">KeyboardChip</a></p><p><a href="/retro-docs-site\docs\modules\misc\MagneticConnector.html">MagneticConnector</a></p><p><a href="/retro-docs-site\docs\modules\misc\PowerButton.html">PowerButton</a></p><p><a href="/retro-docs-site\docs\modules\misc\RealityChip.html">RealityChip</a></p><p><a class="current" href="/retro-docs-site\docs\modules\misc\VideoChip.html">VideoChip</a></p></div></div><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>output</span></div><div class="subcontents"><p><a href="/retro-docs-site\docs\modules\output\Gauge.html">Gauge</a></p><p><a href="/retro-docs-site\docs\modules\output\Lcd.html">Lcd</a></p><p><a href="/retro-docs-site\docs\modules\output\Led.html">Led</a></p><p><a href="/retro-docs-site\docs\modules\output\LedMatrix.html">LedMatrix</a></p><p><a href="/retro-docs-site\docs\modules\output\LedStrip.html">LedStrip</a></p><p><a href="/retro-docs-site\docs\modules\output\Screen.html">Screen</a></p><p><a href="/retro-docs-site\docs\modules\output\SegmentDisplay.html">SegmentDisplay</a></p><p><a href="/retro-docs-site\docs\modules\output\Speaker.html">Speaker</a></p></div></div></div></div></div></div><div class="directory"><div class="directory-name"><div class="span material-symbols-rounded">expand_more</div><span>examples</span></div><div class="subcontents"><p><a href="/retro-docs-site\examples\getting-started.html">getting-started</a></p></div></div></div></div><div class="sync-info"><p>Last Synced:</p><p style="font-weight: 500">29/10/2022 6:54pm PST</p><p style="font-size: 0.8em">Does not automatically sync.</p></div></menu><div class="layout-divider"></div><article><h1>VideoChip</h1><hr><img src="https://docs.retrogadgets.game/api/modules/VideoChip.png" width="200" align="right">

<p>The Video Chip represents the canvas of its connected screens, and is used to draw to them.</p>
<h2>Properties</h2><h3>Mode - <code>VideoChipMode</code></h3><p>The buffer mode, which can either be <code>SingleBuffer</code> or <code>DoubleBuffer</code>. </p>
<p>A single buffer allows you to work on a single screen buffer that is always changing as new commands are sent. If you were to draw a circle, for example, it would be sent straight to the buffer and get displayed immediately. However, with DoubleBuffer, you are dealing with two different video buffers that alternate regularly. Every frame, the buffer that you are editing alternates; you could be editing buffer A, while buffer B is being projected to the screens the chip is connected to. The next frame, the changes in buffer A would be presented to the screen(s) while any other changes for that frame would be made to buffer B. Generally, this won&#39;t make a difference in the way the video is displayed, but if you are experiencing flickering, lag, or stuttering while using SingleBuffer, you should switch to DoubleBuffer.</p>
<h3>Height - <code>number</code> <strong>[Read only]</strong></h3><p>Height in pixels of the rendering buffer. The area takes in account all the displays connected to this VideoChip.</p>
<h3>Width - <code>number</code> <strong>[Read only]</strong></h3><p>WIdth in pixels of the rendering buffer. The area takes in account all the displays connected to this VideoChip.</p>
<h2>Methods</h2><h3>Clear(color <code>color</code>)</h3><p>Clears all the render area with the specified <strong>color</strong>. Usually used before drawing each frame.</p>
<pre><code class="language-lua"><span class="hljs-keyword">local</span> video:VideoChip = gdt.VideoChip0

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>
    video:Clear(color.white)
    <span class="hljs-comment">-- &lt;...&gt;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h2>SetPixel(position <code>vec2</code>, color <code>color</code>)</h2><p>Sets the pixel at the specified position to the specified <strong>color</strong>.</p>
<img src="../../../assets/docs/PixelGrid.png" width="200" align="right">

<h3>DrawPointGrid(gridOffset <code>vec2</code>, dotsDistance <code>number</code>, color <code>color</code>)</h3><p>Draws a dotted grid on the <strong>entire display area</strong>, with an offset. The dotsDistance parameter express the distance in pixels, on both axis, between dots. This is a strange function, but can be uses for backgrounds.</p>
<pre><code class="language-lua"><span class="hljs-keyword">local</span> video:VideoChip = gdt.VideoChip0

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>
    video:Clear(color.blue)
    video:DrawPointGrid(vec2(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>), <span class="hljs-number">3</span>, color.white)
<span class="hljs-keyword">end</span>
</code></pre>
<h3>DrawLine(start <code>vec2</code>, end <code>vec2</code>, color <code>color</code>)</h3><p>Draws a line from position start to position end, using the specified color.</p>
<h3>DrawCircle(position <code>vec2</code>, radius <code>number</code>, color <code>color</code>)</h3><p>Draws an empty circle at the specified position, with the specified radius, in the specified color.</p>
<h3>FillCircle(position <code>vec2</code>, radius <code>number</code>, color <code>color</code>)</h3><p>Draws a filled circle at the specified position, with the specified radius, in the specified color.</p>
<h3>DrawRect(position1 <code>vec2</code>, position2 <code>vec2</code>, color <code>color</code>)</h3><p>Draws an empty rect from position1 to position2, in the specified color.</p>
<h3>FillRect(position1 <code>vec2</code>, position2 <code>vec2</code>, color <code>color</code>)</h3><p>Draws a filled rect from position1 to position2, in the specified color.</p>
<h3>DrawTriangle(position1 <code>vec2</code>, position2 <code>vec2</code>, position3 <code>vec2</code>, color <code>color</code>)</h3><p>Draws an empty triangle with vertices in position1, position2 and position3, in the specified color.</p>
<h3>FillTriangle(position1 <code>vec2</code>, position2 <code>vec2</code>, position3 <code>vec2</code>, color <code>color</code>)</h3><p>Draws a filled triangle with vertices in position1, position2 and position3, in the specified color.</p>
<img src="../../../assets/docs/ExampleImageDrawing.png" width="200" align="right">

<h3>DrawSprite(position <code>vec2</code>, spriteSheet <code>SpriteSheet</code>, spriteX <code>number</code>, spriteY <code>number</code>, tintColor <code>color</code>, backgroundColor <code>color</code>)</h3><p>Draws a specific sprite frame from the spriteSheet. <strong>Position</strong> is for the position on the screen. <strong>SpriteSheet</strong> is a <code>SpriteSheet</code> loaded from assets. <strong>SpriteX</strong> and <strong>Y</strong> determine the offset for which sprite to draw, based on the zoom grid in the editor <strong>(not pixels)</strong>. <strong>TintColor</strong> allows you to multiply the sprite color (set to <code>color.white</code> to draw the sprite as-is). <strong>BackgroundColor</strong> can be set to transparent (<code>color.clear</code>) to keep transparency.</p>
<pre><code class="language-lua"><span class="hljs-comment">-- Assets</span>
<span class="hljs-keyword">local</span> spriteSheet:SpriteSheet = GetSpriteSheet(<span class="hljs-string">&quot;ExampleImageAsset&quot;</span>)

<span class="hljs-comment">-- Hardware</span>
<span class="hljs-keyword">local</span> video:VideoChip = gdt.VideoChip0

<span class="hljs-comment">-- Update</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>
    video:Clear(color.white)
    video:DrawSprite(vec2(<span class="hljs-number">5</span>,<span class="hljs-number">5</span>), spriteSheet, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, color.white, color.clear)
<span class="hljs-keyword">end</span>
</code></pre>
<img src="../../../assets/docs/ExampleImageAsset.png" style="max-width: 400px">

<img src="../../../assets/docs/SpriteFont.png" width="200" align="right">

<h3>DrawText(position <code>vec2</code>, fontSprite <code>SpriteSheet</code>, text <code>string</code>, textColor <code>color</code>, backgroundColor <code>color</code>)</h3><p>Writes <strong>text</strong> to the canvas, using <strong>fontSprite</strong> as the font to be displayed. <strong>fontSprite</strong> is a special kind of SpriteSheet representing a textual font that cannot be created normally. As such, the only one that can be used is loaded via <code>local spriteFont = GetSpriteSheet(&quot;Builtin/StandardFont&quot;)</code>.</p>
<pre><code class="language-lua"><span class="hljs-comment">-- Assets</span>
<span class="hljs-keyword">local</span> spriteFont = GetSpriteSheet(<span class="hljs-string">&quot;Builtin/StandardFont&quot;</span>)

<span class="hljs-comment">-- Hardware</span>
<span class="hljs-keyword">local</span> video:VideoChip = gdt.VideoChip0

<span class="hljs-comment">-- Update</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>
    video:Clear(color.black)
    video:DrawText(vec2(<span class="hljs-number">5</span>,<span class="hljs-number">5</span>), spriteFont, <span class="hljs-string">&quot;Hello!&quot;</span>, color.yellow, color.clear)
<span class="hljs-keyword">end</span>
</code></pre>
<h3>RasterSprite(position1 <code>vec2</code>, position2 <code>vec2</code>, position3 <code>vec2</code>, position4 <code>vec2</code>, spriteSheet <code>SpriteSheet</code>, spriteX <code>number</code>, spriteY <code>number</code>, tintColor <code>color</code>, backgroundColor <code>color</code> )</h3><p>Draws <strong>an entire sprite sheet</strong> mapping it on a quad identified by position1, position2, position3, and position4.</p>
<h3>DrawRenderBuffer(position <code>vec2</code>, renderBuffer <code>RenderBuffer</code>, width <code>number</code>, height <code>number</code>)</h3><p>Draws a render buffer (supposedly coming from <strong>Webcam</strong> component) at the desired position, width and height.</p>
<h2>Remarks</h2><h3>Related types</h3><h4><code>vec2</code></h4><p>vec2 is a two dimensional vector, usually used to point to screen coordinates. Basically a single value that represents two numbers. You can make a new vec2 easily, and then access its properties with <code>x</code> and <code>y</code>.</p>
<pre><code class="language-lua"><span class="hljs-keyword">local</span> pos:vec2 = vec2(<span class="hljs-number">20</span>,<span class="hljs-number">10</span>)
<span class="hljs-built_in">log</span>(<span class="hljs-built_in">tostring</span>(pos.X)) <span class="hljs-comment">--20</span>
<span class="hljs-built_in">log</span>(<span class="hljs-built_in">tostring</span>(pos.Y)) <span class="hljs-comment">--10</span>
</code></pre>
<p><code>vec2(0,0)</code> is the top left corner of the canvas.</p>
<p>There is also vec3, but it is not usually used for screens. You may use it for organization.</p>
<h4><code>color</code></h4><p><code>color</code> represents a color, and is used for LEDs or for drawing to the screen. You may construct a color in a few ways.</p>
<pre><code class="language-lua">Color(r, g, b) <span class="hljs-comment">--Values 0-255</span>
ColorRGBA(r, g, b, a) <span class="hljs-comment">--Alpha is also 0-255, 0 is transparent</span>
ColorHSV(h, s, v) <span class="hljs-comment">--Hue is 0-360, the other values are 0-100</span>
</code></pre>
<p>There are a few built in colors, such as <code>color.blue</code> or <code>color.black</code>. In the future, these will be listed in a dedicated page for <code>color</code>.</p>
<p>You may access <code>R</code>, <code>G</code>, <code>B</code>, and <code>A</code> on a <code>color</code>.</p>
<h4><code>SpriteSheet</code></h4><p>See <code>DrawSprite(...)</code></p>
<h3>Example project</h3><p>The built-in <strong>RasterBoy</strong> gadget is great to get a better understanding of how graphics work. </p>
</article></body></html>